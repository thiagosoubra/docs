Echo.Sync.Label=Core.extend(Echo.Render.ComponentSync,{$static:{_defaultIconTextMargin:5},$load:function(){Echo.Render.registerPeer("Label",this);},_node:null,_formatWhitespace:function(e,c){e=e.replace(/\t/g," \u00a0 \u00a0");e=e.replace(/ {2}/g," \u00a0");var b=e.split("\n");for(var d=0;d<b.length;d++){var a=b[d];if(d>0){c.appendChild(document.createElement("br"));}if(a.length>0){c.appendChild(document.createTextNode(a));}}},renderAdd:function(g,l){this._containerElement=l;var k=this.component.render("icon"),m=this.component.render("text"),i=this.component.render("foreground"),b=this.component.render("background"),a=this.component.render("toolTipText"),h;if(m!=null){var n=this.component.render("lineWrap",true);var f=this.component.render("formatWhitespace",false)&&(m.indexOf(" ")!=-1||m.indexOf("\n")!=-1||m.indexOf("\t")!=-1);if(k){var e=this.component.render("iconTextMargin",Echo.Sync.Label._defaultIconTextMargin);var c=Echo.Sync.TriCellTable.getOrientation(this.component,"textPosition");
var j=new Echo.Sync.TriCellTable(c,Echo.Sync.Extent.toPixels(e));h=document.createElement("img");Echo.Sync.ImageReference.renderImg(k,h);if(f){this._formatWhitespace(m,j.tdElements[0]);}else{j.tdElements[0].appendChild(document.createTextNode(m));}if(!n){j.tdElements[0].style.whiteSpace="nowrap";}j.tdElements[1].appendChild(h);this._node=j.tableElement;this._node.id=this.component.renderId;Echo.Sync.renderComponentDefaults(this.component,this._node);}else{var d=this.component.render("font");if(!this.client.designMode&&!a&&!d&&n&&!i&&!b&&!f&&!this.component.getLayoutDirection()){this._node=document.createTextNode(m);}else{this._node=document.createElement("span");this._node.id=this.component.renderId;if(f){this._formatWhitespace(m,this._node);}else{this._node.appendChild(document.createTextNode(m));}if(!n){this._node.style.whiteSpace="nowrap";}Echo.Sync.renderComponentDefaults(this.component,this._node);}}}else{if(k){h=document.createElement("img");Echo.Sync.ImageReference.renderImg(k,h);
this._node=document.createElement("span");this._node.id=this.component.renderId;this._node.appendChild(h);Echo.Sync.Color.render(this.component.render("background"),this._node,"backgroundColor");}else{if(this.client.designMode){this._node=document.createElement("span");this._node.id=this.component.renderId;}else{this._node=null;}}}if(this._node){if(a){this._node.title=a;}l.appendChild(this._node);}},renderDispose:function(a){this._containerElement=null;this._node=null;},renderUpdate:function(a){if(this._node){this._node.parentNode.removeChild(this._node);}this.renderAdd(a,this._containerElement);return false;}});