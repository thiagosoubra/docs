WS.PreferenceEditor=Core.extend(Echo.WindowPane,{$construct:function(){this._r=WS.getResources();var a;Echo.WindowPane.call(this,{styleName:"Default",title:this._r.m["PreferenceEditor.Title"],icon:this._r.i["PreferenceEditor.Icon"],modal:true,closable:true,maximizeEnabled:true,contentWidth:"40em",contentHeight:"22em",events:{close:Core.method(this,this._cancel)},children:[new Echo.SplitPane({styleName:"ControlPane.SplitBottom",children:[this._controlsRow=new Echo.Row({styleName:"ControlPane",children:[new Echo.Button({styleName:"ControlPane",text:this._r.m["Generic.Ok"],icon:this._r.i["Generic.Ok"],events:{action:Core.method(this,this._ok)}}),new Echo.Button({styleName:"ControlPane",text:this._r.m["Generic.Cancel"],icon:this._r.i["Generic.Cancel"],events:{action:Core.method(this,this._cancel)}})]}),a=new Echo.Column({insets:"1em",cellSpacing:"1em"})]})]});if(!XFile||!XFile.SUPPORT){a.add(new Echo.Column({styleName:"FormBox",children:[new Echo.Label({styleName:"FormTitle",text:this._r.m["PreferenceEditor.Upload"]}),new Echo.Row({cellSpacing:"2em",children:[new Echo.RadioButton({group:"PreferenceEditor.Upload",text:this._r.m["PreferenceEditor.Upload.Single"],selected:!WS.pref.multipleUpload}),this._multipleUpload=new Echo.RadioButton({group:"PreferenceEditor.Upload",text:this._r.m["PreferenceEditor.Upload.Multiple"],selected:WS.pref.multipleUpload})]}),new Echo.Label({styleName:"FormDescription",text:this._r.m["PreferenceEditor.Upload.Description"]})]}));
}a.add(new Echo.Column({styleName:"FormBox",children:[new Echo.Label({styleName:"FormTitle",text:this._r.m["PreferenceEditor.VideoPlayback"]}),new Echo.Row({cellSpacing:"2em",children:[this._videoAuto=new Echo.RadioButton({group:"PreferenceEditor.VideoPlayback",text:this._r.m["PreferenceEditor.VideoPlayback.Auto"],selected:WS.pref.videoAuto}),this._videoFlash=new Echo.RadioButton({group:"PreferenceEditor.VideoPlayback",text:this._r.m["PreferenceEditor.VideoPlayback.FlashPlayer"],selected:WS.pref.videoFlash}),this._videoHtml5=new Echo.RadioButton({group:"PreferenceEditor.VideoPlayback",text:this._r.m["PreferenceEditor.VideoPlayback.Html5"],selected:WS.pref.videoHtml5}),new Echo.RadioButton({group:"PreferenceEditor.VideoPlayback",text:this._r.m["PreferenceEditor.VideoPlayback.Send"],selected:!WS.pref.videoFlash&&!WS.pref.videoHtml5&&!WS.pref.videoAuto})]}),new Echo.Label({styleName:"FormDescription",text:this._r.m["PreferenceEditor.VideoPlayback.Description"]})]}));},_cancel:function(a){this.parent.remove(this);
},_ok:function(a){if(this._multipleUpload){WS.pref.multipleUpload=this._multipleUpload.get("selected");}WS.pref.videoAuto=this._videoAuto.get("selected");WS.pref.videoFlash=this._videoFlash.get("selected");WS.pref.videoHtml5=this._videoHtml5.get("selected");WS.savePrefs();this.parent.remove(this);}});